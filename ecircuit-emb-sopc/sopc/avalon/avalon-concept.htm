<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- #BeginTemplate "../sopc_template.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta content="IE=Edge" http-equiv="X-UA-Compatible" />
<!-- #BeginEditable "doctitle" -->
<title>Avalon基本概念</title>
<!-- #EndEditable -->
<!-- #BeginEditable "description" -->
<meta content="insert DESCRIPTION here" name="description" />
<!-- #EndEditable -->
<meta content="en-us" http-equiv="Content-Language" />
<meta content="General" name="rating" />
<meta content="no" http-equiv="imagetoolbar" />
<meta content="Copyright 2015, Pat Geary  http://genealogy-web-creations.com/ All Rights Reserved" name="copyright" />
<!-- 
*********************************
Design by: Genealogy Web Creations
http://www.genealogy-web-creations.com/
Release Date: May 2015
*********************************
-->
<!-- main css -->
<link href="../../styles/site.css" rel="stylesheet" type="text/css" />
<!-- media queries css -->
<link href="../../styles/media-queries.css" rel="stylesheet" type="text/css" />
<!-- css3-mediaqueries.js for IE less than 9 --><!--[if lt IE 9]>
<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js">


</script>
<![endif]-->
<meta content="width=device-width; initial-scale=1.0" name="viewport" />
<script fptype="dynamicoutline" type="text/javascript">
<!--
function dynOutline() {}
//-->
</script>
<script fptype="dynamicoutline" language="JavaScript1.2" src="../../outline.js">
</script>
<script event="onreadystatechange()" for="document" fptype="dynamicoutline" language="JavaScript1.2">
<!--
initOutline()
//-->
</script>
</head>

<body language="Javascript1.2" onclick="dynOutline()">

<!-- Page Container begins here -->
<div id="outerWrapper">
	<!-- Masthead begins here -->
	<div id="header">
		<img alt="" src="../../images/title_pic.png" style="height: 170px; width: 699px" /></div>
	<!-- Masthead ends here -->
	<!-- Top Navigation begins here -->
	<div id="topNavigation">
		<ul>
			<li><a href="../../index.html" title="Home">主页</a></li>
			<li><a href="../../about.html" title="About">关于</a></li>
			<li><a href="../../contact.html" title="Contact">联系</a></li>
			<li><a href="../../links.html" title="Links">课程</a></li>
			<li><a href="../../search.html" title="Search">搜索</a></li>
			<li><a href="../../site-map.html" title="Site Map">站点地图</a></li>
		</ul>
	</div>
	<!-- Top Navigation ends here -->
	<!-- Columns Container begins here -->
	<div id="contentWrapper">
		<!-- Left Sidebar Begins Here	-->
		<div id="leftColumn1">
			<!--	Sectional Menu Begins Here	-->
			<p class="heading">课程</p>
			<ul>
				<li><a href="../目录.htm" title="SOPC">SOPC</a></li>
				<li><a href="../../embeddedsys/coming.html" title="嵌入式系统应用">嵌入式系统应用</a></li>
				<li><a href="../../ecircuit/from-name.htm" title="电子线路设计">电子线路设计</a></li>
			</ul>
			
			<!--	Sectional Menu ends Here	-->
			<p class="heading">教学相长</p>
			<p>认真教书，认真学习</p>
		</div>
		<!-- Left Sidebar ends Here	-->
		<!--Main Content Area Begins Here-->
		<div id="content">
			<div style="color: red; background-color: #000000;"  >
					<div id="content1" onclick="document.all.child1.style.display=(document.all.child1.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第一章 概述</div> 
					<div id="child1" align="left" style="display:none"> 
						1.<a href="../SOPC基本概念.htm">SOPC系统的基本概念</a> <br> 
						2.<a href="../IP-core.htm">IP核</a> <br> 
						3.<a href="../sopc-dev-process.htm">SOPC开发基本流程</a> <br> 
						4.<a href="../NiosII-introduction.htm">Nios II处理器介绍</a> <br>
						5.<a href="../FPGA-implemented-sopc.htm">用FPGA实现SOPC</a><br>
						6.<a href="../nios-app.htm">应用</a><br>
					</div> 
					
					<div id="content2" onclick="document.all.child2.style.display=(document.all.child2.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第二章 Nios II处理器体系结构 </div> 
					<div id="child2" align="left" style="display:none"> 
						1.<a href="../NiosII-architecture.htm">Nios II处理器结构</a> <br> 
						2.<a href="../Nios-architecture/nios-register.htm">Nios II寄存器的配置</a> <br> 
						3.<a href="../Nios-architecture/nios-alu.htm">ALU</a> <br>
						4.<a href="../Nios-architecture/operating-modes.htm">Nios II处理器运行模式及</a><br>
						  <a href="../Nios-architecture/exception.htm">异常和中断</a> <br>
						5.<a href="../Nios-architecture/memory.htm">存储器和外设访问</a><br>
						附录：<a href="../Nios-architecture/implement-cpu-instruction.htm">计算机指令执行</a><br>
					</div> 
					<div id="content3" onclick="document.all.child3.style.display=(document.all.child3.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第三章 Avalon接口规范 </div> 
					<div id="child3" style="display:none"> 
						1.<a href="avalon-introduction.htm">Avalon总线简介</a> <br> 
						2.<a href="avalon-concept.htm">Avalon总线基本概念</a> <br> 
						3.<a href="avalon-signal.htm">Avalon信号</a>  <br>
						4.<a href="avalon-slave.htm">从端口传输</a> <br>
						5.<a href="avalon-master.htm">主端口传输</a> <br>
						6.<a href="avalon-streaming.htm">流水线传输</a> <br>
						7.<a href="avalon-tristate.htm">三态传输</a> <br>
					</div> 
					
					<div id="content4" onclick="document.all.child5.style.display=(document.all.child5.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第四章 SOPC软硬件开发平台 </div> 
					<div id="child5" style="display:none"> 
						1.<a href="../sopcdevelopment/sopc-dev-platform.htm">SOPC系统开发的软硬件平台</a> <br> 
						2.<a href="#">Quartus II下的SOPC Builder工具</a>(Qsys) <br> 
						3.<a href="#">Nios II IDE集成开发环境</a><br>
						4.<a href="../sopcdevelopment/software/HAL/Nios_HAL.htm">软硬件接口的硬件抽象层（HAL)</a><br>
						5.<a href="../sopcdevelopment/example-list.htm">例子</a>
					</div> 
					
					<div id="content5" onclick="document.all.child4.style.display=(document.all.child4.style.display =='none')?'':'none'" > 
					第五章 Nios II处理器常用外设 </div> 
					<div id="child4" style="display:none"> 
						1.<a href="#">并行I/O</a>(重点讲解结构) <br> 
						2.<a href="#">定时器</a> <br> 
						3.<a href="#">异步串口UART</a> <br>
						4.<a href="#">Optrex 1207 LCD</a><br>
						5.<a href="../sopcdevelopment/devices/SDRAM.htm">SDRAM</a>
					</div> 
					
					<div id="content6" onclick="document.all.child6.style.display=(document.all.child6.style.display =='none')?'':'none'" > 
					第六章 μC/OS II操作系统移植 </div> 
					<div id="child6" style="display:none"> 
						1.<a href="../sopcdevelopment/software/os/os.htm">操作系统概念</a> <br> 
						2.<a href="../sopcdevelopment/software/os/ucos/first_ucos.htm">μC/OS II运行在Nios II</a> <br> 
						3.<a href="../sopcdevelopment/software/os/ucos/ucos_api.htm">μC/OS II编程介绍</a> 
					</div> 
					
					<div id="content8" onclick="document.all.child7.style.display=(document.all.child7.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第七章 Nios II系统深入设计 </div> 
					<div id="child7" style="display:none"> 
						1.<a href="../sopcdevelopment/hardware/user_instructions/user_instructions.htm">用户定制指令</a> <br> 
						2.<a href="../sopcdevelopment/develop_user_devices.htm">用户定制外设</a> 
					</div>
					
					<div id="content8" onclick="document.all.child8.style.display=(document.all.child8.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第八章 调试技术 </div> 
					<div id="child8" style="display:none"> 
						1.<a href="../debug-tech/hardware/ModelSim/modelsim_introduction.htm">ModelSim</a><br>
						2.<a href="../debug-tech/hardware/signaltap/signaltap_introduction.htm">SignalTap</a><br>
						3.Nios EDS调试<br> 
					</div> 
			</div>
			<hr/>
			<!-- #BeginEditable "content" -->
			
<p><font size="7">Avalon基本概念</font></p>
<p>外设和交换架构</p>
<p>Avalon信号</p>
<p>主端口和从端口</p>
<p>传输</p>
<p>主从端口对</p>
<p>周期</p>
<p>==================================================================</p>
<p><b><font size="5">外设和交换架构 device and interconnect fabric </font></b></p>
<p>一个基于Avalon总线的系统会包含很多功能模块，这些功能模块就是Avalon存储器映射外设，通常简称Avalon外设。</p>
<p>
存储器映射外设是指外设和存储器使用相同的总线来寻址，并且CPU使用访问存储器的指令来访问I/O外设。为了使用I/O设备，CPU的地址空间必须为I/O设备保留地址。</p>
<p>Avalon外设包括：存储器、处理器、UART、PIO、定时器和总线桥等。</p>
<p>用户自定义的外设在有能连接到Avalon交换结构的Avalon信号后才可称为Avalon外设。</p>
<p>能够在Avalon总线上发起总线传输的外设为主外设，从外设只能响应Avalon总线传输，而不能发起总线传输。</p>
<p>主外设至少拥有一个连接在Avalon交换架构上的主端口。</p>
<p>用Avalon总线连接的系统实例：</p>
<p><img border="0" src="avalon-example.jpg" width="680" height="633"></p>

<p><img border="0" src="avalon-example2.png" width="832" height="1072"></p>
<p><b>缩略语：</b></p>
<p>Avalon-MM：Avalon Memory-mapped</p>
<p>Avalon-ST：Avalon Streaming</p>
<p>Avalon-TC：Avalon Tristate Conduit Interface</p>
<p><img border="0" src="avalon-example3.png" width="986" height="1022"></p>
<p>
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>
<p><b><font size="5">Avalon信号 avalon signal</font></b></p>
<ul type="square" style="line-height: 150%; word-spacing: 1; font-size: 18pt; margin: 8 0" dynamicoutline>
	<li><font face="宋体">●</font>Avalon接口定义了一组信号（片选、读使能、写使能、地址、数据等），用于描述主/从外设上基于地址的读写接口。</li>
	<li><font face="宋体">●</font>Avalon外设值使用和其内核逻辑进行接口的必需的信号，而省去其他会增加不必要的开销。</li>
	<li><font face="宋体">●</font>Avalon信号的可配置特性是Avalon总线与传统总线的主要区别之一。</li>
	<li>&nbsp;&nbsp;&nbsp; 
	Avalon可以使用一小组信号来实现简单的数据传输，例如ROM接口只需要地址、数据和片选信号就可以。也可以使用更多的信号实现复杂的数据传输，比如高速的存储控制器需要更多信号支持流水线的突发传输。</li>
	<li><font face="宋体">
	●Avalon信号是其他总线的超集。很多芯片的引脚都能映射成Avalon信号类型，可以这些芯片直接与Avalon总线相连。同时，大多数<a href="wisbone-bus.htm">Wishbone</a>信号也可以映射为Avalon信号，使得Avalon系统集成Wishbone 
	IP核非常简单。</font></li>
	<li>
	&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<p>
	<b>主端口和从端口 master port and slave port</b></p>
	<p>Avalon端口是完成通信传输的接口所包含的一组Avalon信号。Avalon端口分为主端口和从端口。</p>
	<p>主端口可以在Avalon总线上发起数据传输，目标从端口在Avalon总线上响应主端口发起的数据传输。</p>
	<p>一个Avalon外设可以有一个或多个主端口，一个或多个从端口，可以既有主端口，也有从端口。</p>
	<p>主端口和交换架构之间的信号连接与从端口和交换架构的信号连接可能有很大不同，所以在讨论Avalon传输时，一定要先区分主从端口。</p>
	<p>
	&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>
	<p><b>传输 transfer</b></p>
	<p>Avalon端口和Avalon交换架构之间的数据单元读写操作称为传输。</p>
	<p>Avalon传输一次数据量可以高达1024位，需要一个或多个时钟周期完成。</p>
	<p>Avalon传输分为主传输和从传输。主传输时主端口发起的对交换架构的传输。从传输是从端口响应来自交换架构的传输请求。</p>
	<p>
	&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>
	<p>主从端口对</p>
	<p>主从端口对是指在数据传输过程中，通过Avalon交换架构互联起来的主端口和从端口。</p>
	<p>
	&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>
	<p>周期 cycle</p>
	<p>周期是时钟信号的一个上升沿到下一个上升沿之间的时间。</p>
	<p><img border="0" src="clock.png" width="572" height="192"></p>
	<p>
	&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</p>
	<p>　</li>
</ul>

			<!-- #EndEditable --></div>
		<!--Main Content Area Ends Here--></div>
	<!-- Columns Container ends here -->
	<!-- Footer begins here -->
	<div id="footer">
		
		<p class="smltxt">模板来自于:
		<a href="http://www.genealogy-web-creations.com/" title="Genealogy Web Creations.">
		Genealogy Web Creations</a> </p>
		<p class="smltxt">Template Updated: May 2015 </p>
		<p class="smltxt"><a href="http://www.miitbeian.gov.cn/" title="备案后">京ICP备15041520号</a></p>
	</div>
	<!-- Footer ends here -->
	<!-- Page Container ends here --></div>

</body>

<!-- #EndTemplate -->

</html>

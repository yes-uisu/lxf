<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- #BeginTemplate "../sopc_template.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta content="IE=Edge" http-equiv="X-UA-Compatible" />
<!-- #BeginEditable "doctitle" -->
<title>CPU指令的实现</title>
<!-- #EndEditable -->
<!-- #BeginEditable "description" -->
<meta content="insert DESCRIPTION here" name="description" />
<!-- #EndEditable -->
<meta content="en-us" http-equiv="Content-Language" />
<meta content="General" name="rating" />
<meta content="no" http-equiv="imagetoolbar" />
<meta content="Copyright 2015, Pat Geary  http://genealogy-web-creations.com/ All Rights Reserved" name="copyright" />
<!-- 
*********************************
Design by: Genealogy Web Creations
http://www.genealogy-web-creations.com/
Release Date: May 2015
*********************************
-->
<!-- main css -->
<link href="../../styles/site.css" rel="stylesheet" type="text/css" />
<!-- media queries css -->
<link href="../../styles/media-queries.css" rel="stylesheet" type="text/css" />
<!-- css3-mediaqueries.js for IE less than 9 --><!--[if lt IE 9]>
<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js">


</script>
<![endif]-->
<meta content="width=device-width; initial-scale=1.0" name="viewport" />
</head>

<body>

<!-- Page Container begins here -->
<div id="outerWrapper">
	<!-- Masthead begins here -->
	<div id="header">
		<img alt="" src="../../images/title_pic.png" style="height: 170px; width: 699px" /></div>
	<!-- Masthead ends here -->
	<!-- Top Navigation begins here -->
	<div id="topNavigation">
		<ul>
			<li><a href="../../index.html" title="Home">主页</a></li>
			<li><a href="../../about.html" title="About">关于</a></li>
			<li><a href="../../contact.html" title="Contact">联系</a></li>
			<li><a href="../../links.html" title="Links">课程</a></li>
			<li><a href="../../search.html" title="Search">搜索</a></li>
			<li><a href="../../site-map.html" title="Site Map">站点地图</a></li>
		</ul>
	</div>
	<!-- Top Navigation ends here -->
	<!-- Columns Container begins here -->
	<div id="contentWrapper">
		<!-- Left Sidebar Begins Here	-->
		<div id="leftColumn1">
			<!--	Sectional Menu Begins Here	-->
			<p class="heading">课程</p>
			<ul>
				<li><a href="../目录.htm" title="SOPC">SOPC</a></li>
				<li><a href="../../embeddedsys/coming.html" title="嵌入式系统应用">嵌入式系统应用</a></li>
				<li><a href="../../ecircuit/from-name.htm" title="电子线路设计">电子线路设计</a></li>
			</ul>
			
			<!--	Sectional Menu ends Here	-->
			<p class="heading">教学相长</p>
			<p>认真教书，认真学习</p>
		</div>
		<!-- Left Sidebar ends Here	-->
		<!--Main Content Area Begins Here-->
		<div id="content">
			<div style="color: red; background-color: #000000;"  >
					<div id="content1" onclick="document.all.child1.style.display=(document.all.child1.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第一章 概述</div> 
					<div id="child1" align="left" style="display:none"> 
						1.<a href="../SOPC基本概念.htm">SOPC系统的基本概念</a> <br> 
						2.<a href="../IP-core.htm">IP核</a> <br> 
						3.<a href="../sopc-dev-process.htm">SOPC开发基本流程</a> <br> 
						4.<a href="../NiosII-introduction.htm">Nios II处理器介绍</a> <br>
						5.<a href="../FPGA-implemented-sopc.htm">用FPGA实现SOPC</a><br>
						6.<a href="../nios-app.htm">应用</a><br>
					</div> 
					
					<div id="content2" onclick="document.all.child2.style.display=(document.all.child2.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第二章 Nios II处理器体系结构 </div> 
					<div id="child2" align="left" style="display:none"> 
						1.<a href="../NiosII-architecture.htm">Nios II处理器结构</a> <br> 
						2.<a href="nios-register.htm">Nios II寄存器的配置</a> <br> 
						3.<a href="nios-alu.htm">ALU</a> <br>
						4.<a href="operating-modes.htm">Nios II处理器运行模式及</a><br>
						  <a href="exception.htm">异常和中断</a> <br>
						5.<a href="memory.htm">存储器和外设访问</a><br>
						附录：<a href="implement-cpu-instruction.htm">计算机指令执行</a><br>
					</div> 
					<div id="content3" onclick="document.all.child3.style.display=(document.all.child3.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第三章 Avalon接口规范 </div> 
					<div id="child3" style="display:none"> 
						1.<a href="../avalon/avalon-introduction.htm">Avalon总线简介</a> <br> 
						2.<a href="../avalon/avalon-concept.htm">Avalon总线基本概念</a> <br> 
						3.<a href="../avalon/avalon-signal.htm">Avalon信号</a>  <br>
						4.<a href="../avalon/avalon-slave.htm">从端口传输</a> <br>
						5.<a href="../avalon/avalon-master.htm">主端口传输</a> <br>
						6.<a href="../avalon/avalon-streaming.htm">流水线传输</a> <br>
						7.<a href="../avalon/avalon-tristate.htm">三态传输</a> <br>
					</div> 
					
					<div id="content4" onclick="document.all.child5.style.display=(document.all.child5.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第四章 SOPC软硬件开发平台 </div> 
					<div id="child5" style="display:none"> 
						1.<a href="../sopcdevelopment/sopc-dev-platform.htm">SOPC系统开发的软硬件平台</a> <br> 
						2.<a href="#">Quartus II下的SOPC Builder工具</a>(Qsys) <br> 
						3.<a href="#">Nios II IDE集成开发环境</a><br>
						4.<a href="../sopcdevelopment/software/HAL/Nios_HAL.htm">软硬件接口的硬件抽象层（HAL)</a><br>
						5.<a href="../sopcdevelopment/example-list.htm">例子</a>
					</div> 
					
					<div id="content5" onclick="document.all.child4.style.display=(document.all.child4.style.display =='none')?'':'none'" > 
					第五章 Nios II处理器常用外设 </div> 
					<div id="child4" style="display:none"> 
						1.<a href="#">并行I/O</a>(重点讲解结构) <br> 
						2.<a href="#">定时器</a> <br> 
						3.<a href="#">异步串口UART</a> <br>
						4.<a href="#">Optrex 1207 LCD</a><br>
						5.<a href="../sopcdevelopment/devices/SDRAM.htm">SDRAM</a>
					</div> 
					
					<div id="content6" onclick="document.all.child6.style.display=(document.all.child6.style.display =='none')?'':'none'" > 
					第六章 μC/OS II操作系统移植 </div> 
					<div id="child6" style="display:none"> 
						1.<a href="../sopcdevelopment/software/os/os.htm">操作系统概念</a> <br> 
						2.<a href="../sopcdevelopment/software/os/ucos/first_ucos.htm">μC/OS II运行在Nios II</a> <br> 
						3.<a href="../sopcdevelopment/software/os/ucos/ucos_api.htm">μC/OS II编程介绍</a> 
					</div> 
					
					<div id="content8" onclick="document.all.child7.style.display=(document.all.child7.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第七章 Nios II系统深入设计 </div> 
					<div id="child7" style="display:none"> 
						1.<a href="../sopcdevelopment/hardware/user_instructions/user_instructions.htm">用户定制指令</a> <br> 
						2.<a href="../sopcdevelopment/develop_user_devices.htm">用户定制外设</a> 
					</div>
					
					<div id="content8" onclick="document.all.child8.style.display=(document.all.child8.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第八章 调试技术 </div> 
					<div id="child8" style="display:none"> 
						1.<a href="../debug-tech/hardware/ModelSim/modelsim_introduction.htm">ModelSim</a><br>
						2.<a href="../debug-tech/hardware/signaltap/signaltap_introduction.htm">SignalTap</a><br>
						3.Nios EDS调试<br> 
					</div> 
			</div>
			<hr/>
			<!-- #BeginEditable "content" -->
			
<p><font size="7">CPU指令的实现</font></p>
<p>D触发器，寄存器，</p>
<p><font size="6">D触发器</font></p>
<p>D触发器（data <a target="_blank" href="http://baike.baidu.com/view/5047223.htm">
flip-flop</a>或delay flip-flop。）该触发器由6个<a target="_blank" href="http://baike.baidu.com/view/127334.htm">与非门</a>组成，其中G1和G2构成基本<a target="_blank" href="http://baike.baidu.com/view/3591105.htm">RS触发器</a>。电平触发的主从触发器工作时，必须在正跳沿前加入输入信号。如果在CP 
高电平期间输入端出现干扰信号，那么就有可能使触发器的状态出错。而边沿触发器允许在CP 
触发沿来到前一瞬间加入输入信号。这样，输入端受干扰的时间大大缩短，受干扰的可能性就降低了。边沿D触发器也称为维持-阻塞边沿D触发器。</p>
<p><img border="0" src="data-flip-flop.png" width="502" height="223"></p>
<p>工作原理<br>
SD 和RD 接至基本RS 触发器的输入端，它们分别是预置和清零端，低电平有效。</p>
<p>
当SD=1且RD=0时(SD的非为0，RD的非为1，即在两个控制端口分别从外部输入的电平值，原因是低电平有效),不论输入端D为何种状态，都会使Q=0，Q非=1，即触发器置0；当SD=0且RD=1(SD的非为1，RD的非为0）时，Q=1，Q非=0，触发器置1,SD和RD通常又称为直接置1和置0端。我们设它们均已加入了高电平，不影响电路的工作。</p>
<p>工作过程如下：<br>
1.CP=0时，与非门G3和G4封锁，其输出Q3=Q4=1，触发器的状态不变。同时，由于Q3至Q5和Q4至Q6的反馈信号将这两个门打开，因此可接收输入信号D，Q5=D，Q6=Q5非=D非。</p>
<p>
2.当CP由0变1时触发器翻转。这时G3和G4打开，它们的输入Q3和Q4的状态由G5和G6的输出状态决定。Q3=Q5非=D非，Q4=Q6非=D。由基本RS触发器的逻辑功能可知，Q=Q3非=D。<br>
3.触发器翻转后，在CP=1时输入信号被封锁。这是因为G3和G4打开后，它们的输出Q3和Q4的状态是互补的,即必定有一个是0，若Q3为0，则经G3输出至G5输入的反馈线将G5封锁，即封锁了D通往基本RS 
触发器的路径；该反馈线起到了使触发器维持在1状态和阻止触发器变为0状态的作用,故该反馈线称为置1维持线,置0阻塞线。Q4为0时，将G3和G6封锁，D端通往基本RS触发器的路径也被封锁。Q4输出端至G6反馈线起到使触发器维持在0状态的作用，称作置0维持线；Q4输出至G3输入的反馈线起到阻止触发器置1的作用,称为置1阻塞线。因此，该触发器常称为维持-阻塞触发器。总之，该触发器是在CP正跳沿前接受输入信号，正跳沿时触发翻转，正跳沿后输入即被封锁,三步都是在正跳沿后完成，所以有边沿触发器之称。与主从触发器相比,同工艺的边沿触发器有更强的抗干扰能力和更高的工作速度。</p>
<h3 class="para-title level-3"><span class="title-text">功能表</span> </h3>
<table log-set-param="table_view" class="table-view log-set-param">
	<tr>
		<th>
		<div class="para">
			D</div>
		</th>
		<th>
		<div class="para">
			CLK</div>
		</th>
		<th>
		<div class="para">
			Q</div>
		</th>
		<th>
		<div class="para">
			QN</div>
		</th>
	</tr>
	<tr>
		<td>
		<div class="para">
			0</div>
		</td>
		<td>
		<div class="para">
			时钟边沿</div>
		</td>
		<td>
		<div class="para">
			0</div>
		</td>
		<td>
		<div class="para">
			1</div>
		</td>
	</tr>
	<tr>
		<td>
		<div class="para">
			1</div>
		</td>
		<td>
		<div class="para">
			时钟边沿</div>
		</td>
		<td>
		<div class="para">
			1</div>
		</td>
		<td>
		<div class="para">
			0</div>
		</td>
	</tr>
	<tr>
		<td>
		<div class="para">
			×</div>
		</td>
		<td>
		<div class="para">
			0</div>
		</td>
		<td>
		<div class="para">
			last Q</div>
		</td>
		<td>
		<div class="para">
			last QN</div>
		</td>
	</tr>
	<tr>
		<td>
		<div class="para">
			×</div>
		</td>
		<td>
		<div class="para">
			1</div>
		</td>
		<td>
		<div class="para">
			last Q</div>
		</td>
		<td>
		<div class="para">
			last QN</div>
		</td>
	</tr>
</table>
<div class="para">
	<sup>[1]</sup><a class="sup-anchor" name="ref_[1]_1331858">&nbsp;</a>
</div>
<h3 class="para-title level-3"><span class="title-text">方程</span> </h3>
<div class="para">
	<div class="layoutinline formula" style="width: 66px; display: inline">
		<img alt="" title src="http://a.hiphotos.baidu.com/baike/s=66/sign=3a5dd3c18ad4b31cf43c97bd86d6b814/96dda144ad345982c2072d100df431adcaef84a7.jpg" align="absmiddle" height="15" width="66">
	</div>
</div>

<p><b><font size="6">寄存器</font></b></p>
<p><img border="0" src="4bit-register.png" width="280" height="140"></p>
<p><b><font size="6">加法器、</font></b><font size="6"><b>乘法器、减法器......</b></font></p>
<p><font size="6"><b>指令执行</b></font></p>
<p><font size="5">一种实现方式：共用数据总线，不同指令通过译码，形成片选信号，选择不同的功能。</font></p>
<p><font size="6"><b><a href="computer-language.htm">计算机语言</a></b></font></p>

			<!-- #EndEditable --></div>
		<!--Main Content Area Ends Here--></div>
	<!-- Columns Container ends here -->
	<!-- Footer begins here -->
	<div id="footer">
		
		<p class="smltxt">模板来自于:
		<a href="http://www.genealogy-web-creations.com/" title="Genealogy Web Creations.">
		Genealogy Web Creations</a> </p>
		<p class="smltxt">Template Updated: May 2015 </p>
		<p class="smltxt"><a href="http://www.miitbeian.gov.cn/" title="备案后">京ICP备15041520号</a></p>
	</div>
	<!-- Footer ends here -->
	<!-- Page Container ends here --></div>

</body>

<!-- #EndTemplate -->

</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- #BeginTemplate "../sopc_template.dwt" -->

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta content="IE=Edge" http-equiv="X-UA-Compatible" />
<!-- #BeginEditable "doctitle" -->
<title>TAP</title>
<!-- #EndEditable -->
<!-- #BeginEditable "description" -->
<meta content="insert DESCRIPTION here" name="description" />
<!-- #EndEditable -->
<meta content="en-us" http-equiv="Content-Language" />
<meta content="General" name="rating" />
<meta content="no" http-equiv="imagetoolbar" />
<meta content="Copyright 2015, Pat Geary  http://genealogy-web-creations.com/ All Rights Reserved" name="copyright" />
<!-- 
*********************************
Design by: Genealogy Web Creations
http://www.genealogy-web-creations.com/
Release Date: May 2015
*********************************
-->
<!-- main css -->
<link href="../../styles/site.css" rel="stylesheet" type="text/css" />
<!-- media queries css -->
<link href="../../styles/media-queries.css" rel="stylesheet" type="text/css" />
<!-- css3-mediaqueries.js for IE less than 9 --><!--[if lt IE 9]>
<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js">


</script>
<![endif]-->
<meta content="width=device-width; initial-scale=1.0" name="viewport" />
</head>

<body>

<!-- Page Container begins here -->
<div id="outerWrapper">
	<!-- Masthead begins here -->
	<div id="header">
		<img alt="" src="../../images/title_pic.png" style="height: 170px; width: 699px" /></div>
	<!-- Masthead ends here -->
	<!-- Top Navigation begins here -->
	<div id="topNavigation">
		<ul>
			<li><a href="../../index.html" title="Home">主页</a></li>
			<li><a href="../../about.html" title="About">关于</a></li>
			<li><a href="../../contact.html" title="Contact">联系</a></li>
			<li><a href="../../links.html" title="Links">课程</a></li>
			<li><a href="../../search.html" title="Search">搜索</a></li>
			<li><a href="../../site-map.html" title="Site Map">站点地图</a></li>
		</ul>
	</div>
	<!-- Top Navigation ends here -->
	<!-- Columns Container begins here -->
	<div id="contentWrapper">
		<!-- Left Sidebar Begins Here	-->
		<div id="leftColumn1">
			<!--	Sectional Menu Begins Here	-->
			<p class="heading">课程</p>
			<ul>
				<li><a href="../目录.htm" title="SOPC">SOPC</a></li>
				<li><a href="../../embeddedsys/coming.html" title="嵌入式系统应用">嵌入式系统应用</a></li>
				<li><a href="../../ecircuit/from-name.htm" title="电子线路设计">电子线路设计</a></li>
			</ul>
			
			<!--	Sectional Menu ends Here	-->
			<p class="heading">教学相长</p>
			<p>认真教书，认真学习</p>
		</div>
		<!-- Left Sidebar ends Here	-->
		<!--Main Content Area Begins Here-->
		<div id="content">
			<div style="color: red; background-color: #000000;"  >
					<div id="content1" onclick="document.all.child1.style.display=(document.all.child1.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第一章 概述</div> 
					<div id="child1" align="left" style="display:none"> 
						1.<a href="../SOPC基本概念.htm">SOPC系统的基本概念</a> <br> 
						2.<a href="../IP-core.htm">IP核</a> <br> 
						3.<a href="../sopc-dev-process.htm">SOPC开发基本流程</a> <br> 
						4.<a href="../NiosII-introduction.htm">Nios II处理器介绍</a> <br>
						5.<a href="../FPGA-implemented-sopc.htm">用FPGA实现SOPC</a><br>
						6.<a href="../nios-app.htm">应用</a><br>
					</div> 
					
					<div id="content2" onclick="document.all.child2.style.display=(document.all.child2.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第二章 Nios II处理器体系结构 </div> 
					<div id="child2" align="left" style="display:none"> 
						1.<a href="../NiosII-architecture.htm">Nios II处理器结构</a> <br> 
						2.<a href="nios-register.htm">Nios II寄存器的配置</a> <br> 
						3.<a href="nios-alu.htm">ALU</a> <br>
						4.<a href="operating-modes.htm">Nios II处理器运行模式及</a><br>
						  <a href="exception.htm">异常和中断</a> <br>
						5.<a href="memory.htm">存储器和外设访问</a><br>
						附录：<a href="implement-cpu-instruction.htm">计算机指令执行</a><br>
					</div> 
					<div id="content3" onclick="document.all.child3.style.display=(document.all.child3.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第三章 Avalon接口规范 </div> 
					<div id="child3" style="display:none"> 
						1.<a href="../avalon/avalon-introduction.htm">Avalon总线简介</a> <br> 
						2.<a href="../avalon/avalon-concept.htm">Avalon总线基本概念</a> <br> 
						3.<a href="../avalon/avalon-signal.htm">Avalon信号</a>  <br>
						4.<a href="../avalon/avalon-slave.htm">从端口传输</a> <br>
						5.<a href="../avalon/avalon-master.htm">主端口传输</a> <br>
						6.<a href="../avalon/avalon-streaming.htm">流水线传输</a> <br>
						7.<a href="../avalon/avalon-tristate.htm">三态传输</a> <br>
					</div> 
					
					<div id="content4" onclick="document.all.child5.style.display=(document.all.child5.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第四章 SOPC软硬件开发平台 </div> 
					<div id="child5" style="display:none"> 
						1.<a href="../sopcdevelopment/sopc-dev-platform.htm">SOPC系统开发的软硬件平台</a> <br> 
						2.<a href="#">Quartus II下的SOPC Builder工具</a>(Qsys) <br> 
						3.<a href="#">Nios II IDE集成开发环境</a><br>
						4.<a href="../sopcdevelopment/software/HAL/Nios_HAL.htm">软硬件接口的硬件抽象层（HAL)</a><br>
						5.<a href="../sopcdevelopment/example-list.htm">例子</a>
					</div> 
					
					<div id="content5" onclick="document.all.child4.style.display=(document.all.child4.style.display =='none')?'':'none'" > 
					第五章 Nios II处理器常用外设 </div> 
					<div id="child4" style="display:none"> 
						1.<a href="#">并行I/O</a>(重点讲解结构) <br> 
						2.<a href="#">定时器</a> <br> 
						3.<a href="#">异步串口UART</a> <br>
						4.<a href="#">Optrex 1207 LCD</a><br>
						5.<a href="../sopcdevelopment/devices/SDRAM.htm">SDRAM</a>
					</div> 
					
					<div id="content6" onclick="document.all.child6.style.display=(document.all.child6.style.display =='none')?'':'none'" > 
					第六章 μC/OS II操作系统移植 </div> 
					<div id="child6" style="display:none"> 
						1.<a href="../sopcdevelopment/software/os/os.htm">操作系统概念</a> <br> 
						2.<a href="../sopcdevelopment/software/os/ucos/first_ucos.htm">μC/OS II运行在Nios II</a> <br> 
						3.<a href="../sopcdevelopment/software/os/ucos/ucos_api.htm">μC/OS II编程介绍</a> 
					</div> 
					
					<div id="content8" onclick="document.all.child7.style.display=(document.all.child7.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第七章 Nios II系统深入设计 </div> 
					<div id="child7" style="display:none"> 
						1.<a href="../sopcdevelopment/hardware/user_instructions/user_instructions.htm">用户定制指令</a> <br> 
						2.<a href="../sopcdevelopment/develop_user_devices.htm">用户定制外设</a> 
					</div>
					
					<div id="content8" onclick="document.all.child8.style.display=(document.all.child8.style.display =='none')?'':'none'" > 
					<font face="楷体" size="4">第八章 调试技术 </div> 
					<div id="child8" style="display:none"> 
						1.<a href="../debug-tech/hardware/ModelSim/modelsim_introduction.htm">ModelSim</a><br>
						2.<a href="../debug-tech/hardware/signaltap/signaltap_introduction.htm">SignalTap</a><br>
						3.Nios EDS调试<br> 
					</div> 
			</div>
			<hr/>
			<!-- #BeginEditable "content" -->
			
<p><strong>TAP(Test Access Port) 控制器的状态机</strong></p>
<p>http://book.51cto.com/art/200902/111769.htm</p>
<p>TAP控制器有16个同步状态，控制器的下一个状态由TMS信号决定，TMS信号在TCK的上升沿被采样生效。 </p>
<p>TMS:<font size="5">测试模式选择</font></p>
<p><img border="0" src="TAP.jpg" width="586" height="544"></p>
<div class="g_39 b3-s-4273B3 rel" sizcache07633333902404362="20 40 1" sizset="false">
	<div class="g_26 fl m_l" sizcache07633333902404362="20 40 1" sizset="false">
		<div class="content bgF8F8F8 f14" sizcache07633333902404362="20 40 6" sizset="false">
			<div id="content9" sizcache07633333902404362="20 40 6" sizset="false">
				<strong>Test-Logic-Reset测试逻辑复位状态</strong><p>
				处于这种状态下，测试逻辑被禁止以允许芯片正常操作，读IDCODE寄存器将禁止测试逻辑。</p>
				<p>
				无论TAP控制器处于何种状态，只要将TMS信号在5个连续的TCK信号的上升沿保持高电平，TAP就将进入Test-Logic-Reset状态，如果TMS信号一直为高电平，那么TAP将保持在Test-Logic-Reset状态，另外TRST信号也可以强迫TAP进入Test-Logic-Reset状态。</p>
				<p>
				处于Test-Logic-Reset状态的TAP，如果下一个TCK的上升沿时TMS信号处于低电平，那么TAP将被切换到Run-Test-Idle状态。</p>
				<p><strong>Run-Test-Idle运行测试空闲状态</strong></p>
				<p>
				Run-Test-Idle是TAP控制器扫描操作空闲状态，如果TMS信号一直处于低电平，那么TAP将保持在TRun-Test-Idle状态。当TMS信号在TCK上升沿处于高电平，TAP控制器将进入Select-DR-Scan状态。</p>
				<p><strong>Select-DR-Scan选择数据寄存器扫描状态</strong></p>
				<p>Select-DR-Scan是TAP控制器的一个临时状态，边界扫描寄存器BSR保持它们先前的状态。</p>
				<p>
				当TMS信号在下一个TCK上升沿处于低电平，TAP控制器进入Capture-DR状态，一个边界扫描寄存器的扫描操作同时被初始化。</p>
				<p>如果TMS信号在下一个TCK上升沿处于高电平，TAP控制器将进入Select-IR-Scan状态。</p>
				<p><strong>Capture-DR捕获数据寄存器状态</strong></p>
				<p>
				如果TAP控制器处于Capture-DR状态，且当前指令是SAMPLE/PRELOAD指令，那么边界扫描寄存器BSR在TCK信号的上升沿捕获输入管脚的数据。如果此时不是SAMPLE/PRELOAD指令，那么BSR保持它们先前的值，另外BSR的值被放入连接在TDI和TDO管脚之间的移位寄存器中。</p>
				<p>处于Capture-DR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit1-DR状态。如果TMS信号在下一个TCK上升沿处于低电平，则TAP进入Shift-DR状态。</p>
				<p><strong>Shift-DR移位数据寄存器状态</strong></p>
				<p>
				在Shift-DR状态下，在每个TCK的上升沿，TDI-移位寄存器-TDO串行通道向右移一位，TDI的数据移入移位寄存器，移位寄存器最靠近TDO的位移到TDO管脚上。</p>
				<p>处于Shift-DR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit1-DR状态。如果TMS信号处于低电平，则TAP一直进行移位操作。</p>
				<p><strong>Exit1-DR退出数据寄存器状态1</strong></p>
				<p>
				Exit1-DR是TAP控制器的一个临时状态，如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Update-DR状态；如果TMS信号在下一个TCK上升沿处于低电平，则TAP进入Pause-DR状态。</p>
				<p>处于Exit1-DR状态时，指令不会被改变。</p>
				<p><strong>Pause-DR暂停数据寄存器状态</strong></p>
				<p>Pause-DR状态允许TAP控制器暂时停止TDI-移位寄存器-TDO串行通道的移位操作。</p>
				<p>处于Pause-DR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit2-DR状态；如果TMS信号处于低电平，则TAP一直保持暂停状态。</p>
				<p><strong>Exit2-DR退出数据寄存器状态2</strong></p>
				<p>
				Exit2-DR也是TAP控制器的临时状态，如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Update-DR状态，结束扫描操作；如果TMS信号在下一个TCK上升沿处于低电平，则TAP重新进入Shift-DR状态。</p>
				<p>处于Exit2-D状态时，指令不会被改变。</p>
				<p><strong>Update-DR更新数据寄存器状态</strong></p>
				<p>
				在正常情况下，边界扫描寄存器BSR的值是被锁存在并行输出管脚中，以免在EXTEST或SAMPLE/PRELOAD命令下执行移位操作时改变BSR的值。当处于Update-DR状态时选择的是BSR寄存器，那么移位寄存器中的值将在TCK的下降沿被锁存到BSR寄存器的并行输出管脚中去。</p>
				<p>处于Update-DR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Select-DR-Scan状态；如果TMS信号在下一个TCK上升沿处于低电平，则TAP进入Run-Test-Idle状态。</p>
				<p><strong>Select-IR-Scan选择指令寄存器扫描状态</strong></p>
				<p>Select-IR-Scan是TAP控制器的一个临时状态。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于低电平，TAP控制器进入Capture-IR状态，一个对指令寄存器的扫描操作同时被初始化。</p>
				<p>如果TMS信号在下一个TCK上升沿处于高电平，TAP控制器将进入Test-Logic-Reset状态。</p>
				<p>处于Select-IR-Scan状态时，指令不会被改变。</p>
				<p><strong>Capture-IR捕获指令寄存器状态</strong></p>
				<p>
				处于Capture-IR状态时，指令寄存器中的值被固定设置成0b0000001，并将它放入连接在TDI与TDO之间的移位寄存器中。</p>
				<p>处于Capture-DR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit1-IR状态；如果TMS信号在下一个TCK上升沿处于低电平，则TAP进入Shift-IR状态。</p>
				<p><strong>Shift-IR移位指令寄存器状态</strong></p>
				<p>
				在Shift-IR状态下，在每个TCK的上升沿，TDI-移位寄存器-TDO串行通道向右移一位，JTAG指令从TDI管脚上被逐位移入移位寄存器，而移位寄存器中的0b0000001则被逐位从TDO管脚移出。</p>
				<p>处于Shift-IR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit1-IR状态；如果TMS信号处于低电平，则TAP一直进行移位操作。</p>
				<p><strong>Exit1-IR退出指令寄存器状态1</strong></p>
				<p>
				Exit1-IR是TAP控制器的一个临时状态，如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Update-IR状态；如果TMS信号在下一个TCK上升沿处于低电平，则TAP进入Pause-IR状态。</p>
				<p>处于Exit1-IR状态时，指令不会被改变。</p>
				<p><strong>Pause-IR暂停指令寄存器状态</strong></p>
				<p>Pause-IR状态允许TAP控制器暂时停止TDI-移位寄存器-TDO串行通道的移位操作。</p>
				<p>处于Pause-IR状态时，指令不会被改变。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Exit2-IR状态；如果TMS信号处于低电平，则TAP一直处于暂停状态。</p>
				<p><strong>Exit2-IR退出指令寄存器状态2</strong></p>
				<p>
				Exit2-IR也是TAP控制器的临时状态，如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Update-IR状态，结束扫描操作；如果TMS信号在下一个TCK上升沿处于低电平，则TAP重新进入Shift-IR状态。</p>
				<p>处于Exit2-D状态时，指令不会被改变。</p>
				<p><strong>Update-IR更新指令寄存器状态</strong></p>
				<p>
				处于Update-IR状态时，移位寄存器中的值将在TCK的下降沿被锁存到指令寄存器中，一旦锁存成功，新的指令将成为当前的指令。</p>
				<p>
				如果TMS信号在下一个TCK上升沿处于高电平，TAP进入Select-DR-Scan状态；如果TMS信号在下一个TCK上升沿处于电平，则TAP进入Run-Test-Idle状态。</div>
		</div>
	</div>
</div>

			<!-- #EndEditable --></div>
		<!--Main Content Area Ends Here--></div>
	<!-- Columns Container ends here -->
	<!-- Footer begins here -->
	<div id="footer">
		
		<p class="smltxt">模板来自于:
		<a href="http://www.genealogy-web-creations.com/" title="Genealogy Web Creations.">
		Genealogy Web Creations</a> </p>
		<p class="smltxt">Template Updated: May 2015 </p>
		<p class="smltxt"><a href="http://www.miitbeian.gov.cn/" title="备案后">京ICP备15041520号</a></p>
	</div>
	<!-- Footer ends here -->
	<!-- Page Container ends here --></div>

</body>

<!-- #EndTemplate -->

</html>
